{% extends 'includes/base.html' %}
{% load static %}

{% block content %}

<!-- Header Start -->
<div class="container-fluid hero-header bg-light py-5 mb-5">
    <div class="container py-5">
        <div class="row g-5 align-items-center">
            <div class="col-lg-6">
                <h1 class="display-4 mb-3 animated slideInDown">Entre em Contacto</h1>
                <p class="animated slideInDown mb-4">Estamos disponíveis para responder às suas questões, fornecer informações sobre os nossos serviços ou agendar uma demonstração personalizada. Por favor, preencha o formulário abaixo e entraremos em contacto brevemente.</p>
            </div>
            <div class="col-lg-6 animated fadeIn">
                <img class="img-fluid animated pulse" style="animation-duration: 3s; max-width: 50%; height: auto; margin: 0 auto; display: block;" src="{% static 'img/contact_image.png' %}" alt="Imagem de Contacto">
            </div>
        </div>
    </div>
</div>
<!-- Header End -->

<!-- Contact Start -->
<div class="container-xxl py-5">
    <div class="container">
        <div class="row g-5 mb-5">
            <div class="col-lg-4 wow fadeInUp" data-wow-delay="0.1s">
                <div class="h-100 bg-light rounded p-4 shadow-sm">
                    <div class="d-inline-flex align-items-center justify-content-center rounded-circle bg-primary mb-4" style="width: 60px; height: 60px;">
                        <i class="fas fa-map-marker-alt text-white fs-4"></i>
                    </div>
                    <h5>O Nosso Escritório</h5>
                    <p class="mb-2"><i class="fas fa-building text-primary me-2"></i>Lufapo Hub 2º Andar, R. Cel. Júlio Veiga Simão, 3025-307 Coimbra</p>
                </div>
            </div>
            <div class="col-lg-4 wow fadeInUp" data-wow-delay="0.3s">
                <div class="h-100 bg-light rounded p-4 shadow-sm">
                    <div class="d-inline-flex align-items-center justify-content-center rounded-circle bg-primary mb-4" style="width: 60px; height: 60px;">
                        <i class="fas fa-phone-alt text-white fs-4"></i>
                    </div>
                    <h5>Contacte-nos</h5>
                    <p class="mb-2"><i class="fas fa-mobile-alt text-primary me-2"></i>+351 968 614 711</p>
                    <p class="mb-2"><i class="fas fa-envelope text-primary me-2"></i>figueiredoit@gmail.com</p>
                </div>
            </div>
            <div class="col-lg-4 wow fadeInUp" data-wow-delay="0.5s">
                <div class="h-100 bg-light rounded p-4 shadow-sm">
                    <div class="d-inline-flex align-items-center justify-content-center rounded-circle bg-primary mb-4" style="width: 60px; height: 60px;">
                        <i class="fas fa-clock text-white fs-4"></i>
                    </div>
                    <h5>Horário de Funcionamento</h5>
                    <p class="mb-2"><i class="fas fa-calendar-day text-primary me-2"></i>Segunda - Sexta: 9:00 - 18:00</p>
                </div>
            </div>
        </div>
        
        <!-- Contact Form Section with Fixed Floating Labels -->
        <!-- Contact Form Section - EXACT Copy from Main Page Structure with Map -->
        <div class="row g-5">
            <div class="col-lg-6">
                <div class="bg-light rounded p-4 p-sm-5 wow fadeIn" data-wow-delay="0.5s">
                    <h3 class="mb-4">Envie-nos uma mensagem</h3>

                    {% if messages %}
                        {% for message in messages %}
                            <div class="alert alert-{% if message.tags == 'error' %}danger{% else %}{{ message.tags }}{% endif %} alert-dismissible fade show" role="alert">
                                <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
                                <strong>{{ message }}</strong>
                            </div>
                        {% endfor %}
                    {% endif %}
                        
                    <form method="post">
                        {% csrf_token %}
                        <div class="row g-3">
                            <div class="col-md-6">
                                <div class="form-floating">
                                    {{ contact_form.name }}
                                </div>
                                {% if contact_form.name.errors %}
                                    <div class="invalid-feedback d-block">
                                        {{ contact_form.name.errors }}
                                    </div>
                                {% endif %}
                            </div>
                            <div class="col-md-6">
                                <div class="form-floating">
                                    {{ contact_form.email }}
                                </div>
                                {% if contact_form.email.errors %}
                                    <div class="invalid-feedback d-block">
                                        {{ contact_form.email.errors }}
                                    </div>
                                {% endif %}
                            </div>
                            <div class="col-md-6">
                                <div class="form-floating">
                                    {{ contact_form.phone }}
                                </div>
                                {% if contact_form.phone.errors %}
                                    <div class="invalid-feedback d-block">
                                        {{ contact_form.phone.errors }}
                                    </div>
                                {% endif %}
                            </div>
                            <div class="col-md-6">
                                <div class="form-floating">
                                    {{ contact_form.company }}
                                </div>
                                {% if contact_form.company.errors %}
                                    <div class="invalid-feedback d-block">
                                        {{ contact_form.company.errors }}
                                    </div>
                                {% endif %}
                            </div>
                            <div class="col-12">
                                <div class="form-floating">
                                    {{ contact_form.subject }}
                                </div>
                                {% if contact_form.subject.errors %}
                                    <div class="invalid-feedback d-block">
                                        {{ contact_form.subject.errors }}
                                    </div>
                                {% endif %}
                            </div>
                            <div class="col-12">
                                <div class="form-floating">
                                    {{ contact_form.message }}
                                </div>
                                {% if contact_form.message.errors %}
                                    <div class="invalid-feedback d-block">
                                        {{ contact_form.message.errors }}
                                    </div>
                                {% endif %}
                            </div>
                            <div class="col-12">
                                <button class="btn btn-primary w-100 py-3" type="submit">Enviar Mensagem</button>
                            </div>
                        </div>
                    </form>
                </div>
            </div>

            <div class="col-lg-6 wow fadeInUp" data-wow-delay="0.5s">
                <div class="h-100">
                    <iframe class="w-100 rounded" 
                            style="height: 100%; min-height: 600px; border: 3px solid #0d6efd;" 
                            src="https://www.google.com/maps/embed?pb=!1m14!1m8!1m3!1d4307.813556974164!2d-8.443244386700595!3d40.22943055837141!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0xd22f99490b17fdb%3A0xb12d9b2ed736865c!2sLUFAPO%20HUB!5e0!3m2!1spt-PT!2spt!4v1752915009925!5m2!1spt-PT!2spt" 
                            allowfullscreen="" 
                            loading="lazy" 
                            referrerpolicy="no-referrer-when-downgrade"></iframe>
                </div>
            </div>
        </div>
        
        <!--
        <div class="row mt-5 pt-5">
            <div class="col-12 text-center">
                <div class="section-divider mb-4"></div>
                <h2 class="mb-4">Outras Formas de Contacto</h2>
            </div>
            
            <div class="col-md-6 col-lg-4 mb-4 wow fadeInUp" data-wow-delay="0.1s">
                <div class="bg-light rounded p-4 text-center shadow-sm h-100">
                    <div class="mb-3">
                        <a href="{% url 'meeting_request' %}" class="btn btn-outline-primary btn-lg rounded-circle">
                            <i class="fas fa-calendar-alt fa-2x p-2"></i>
                        </a>
                    </div>
                    <h5>Agendar Reunião</h5>
                    <p>Prefere uma conversa mais personalizada? Agende uma reunião com a nossa equipa.</p>
                    <a href="{% url 'meeting_request' %}" class="btn btn-primary">Agendar Agora</a>
                </div>
            </div>
            
            <div class="col-md-6 col-lg-4 mb-4 wow fadeInUp" data-wow-delay="0.3s">
                <div class="bg-light rounded p-4 text-center shadow-sm h-100">
                    <div class="mb-3">
                        <a href="{% url 'budget_request' %}" class="btn btn-outline-primary btn-lg rounded-circle">
                            <i class="fas fa-file-invoice-dollar fa-2x p-2"></i>
                        </a>
                    </div>
                    <h5>Solicitar Orçamento</h5>
                    <p>Tem um projeto específico em mente? Solicite um orçamento detalhado.</p>
                    <a href="{% url 'budget_request' %}" class="btn btn-primary">Solicitar Agora</a>
                </div>
            </div>
            
            <div class="col-md-12 col-lg-4 mb-4 wow fadeInUp" data-wow-delay="0.5s">
                <div class="bg-light rounded p-4 text-center shadow-sm h-100">
                    <div class="mb-3">
                        <a href="tel:+351912345678" class="btn btn-outline-primary btn-lg rounded-circle">
                            <i class="fas fa-headset fa-2x p-2"></i>
                        </a>
                    </div>
                    <h5>Suporte Técnico</h5>
                    <p>Precisa de ajuda técnica urgente? A nossa equipa de suporte está disponível.</p>
                    <a href="tel:+351912345678" class="btn btn-primary">Ligar Agora</a>
                </div>
            </div>
        </div>
        -->
    </div>
</div>
<!-- Contact End -->



<style>
    .section-divider {
        height: 2px;
        width: 80px;
        background-color: var(--primary);
        margin: 0 auto;
    }
    
    .form-floating > .form-control,
    .form-floating > .form-select {
        height: calc(3.5rem + 2px);
        padding: 1rem .75rem;
    }
    
    .form-floating > textarea.form-control {
        height: 140px;
    }
</style>

{% endblock %}